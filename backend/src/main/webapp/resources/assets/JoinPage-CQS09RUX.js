import{a as m,r as w,b as y,d as s,e as l,w as n,n as g,t as k,v as i,g as x,h as D,o as I}from"./index-CaT1TtAa.js";import{a as p}from"./authApi-CcUTgLYi.js";import"./index-BgPPFf2N.js";const U={class:"mt-5 mx-auto",style:{width:"500px"}},V={class:"mb-3 mt-3"},B={for:"username",class:"form-label"},E={class:"mb-3mt-3"},S={class:"mb-3"},h={class:"mb-3"},j=["disabled"],z={__name:"JoinPage",setup(C){const f=D(),u=m(null),r=m(""),o=m(!0),e=w({username:"hong",email:"hong@gamil.com",password:"12",password2:"12",avatar:null}),c=async()=>{if(!e.username)return alert("사용자 ID를 입력하세요.");o.value=await p.checkUsername(e.username),console.log(o.value,typeof o.value),r.value=o.value?"이미 사용중인 ID입니다.":"사용가능한 ID입니다."},v=()=>{o.value=!0,e.username?r.value="ID 중복 체크를 하셔야 합니다.":r.value=""},b=async()=>{if(e.password!=e.password2)return alert("비밀번호가 일치하지 않습니다.");u.value.files.length>0&&(e.avatar=u.value.files[0]);try{await p.create(e),f.push({name:"home"})}catch(d){console.error(d)}};return(d,a)=>(I(),y("div",U,[a[12]||(a[12]=s("h1",{class:"my-5"},[s("i",{class:"fa-solid fa-user-plus"}),l(" 회원가입 ")],-1)),s("form",{onSubmit:x(b,["prevent"])},[s("div",V,[s("label",B,[a[4]||(a[4]=s("i",{class:"fa-solid fa-user"},null,-1)),a[5]||(a[5]=l(" 사용자ID : ")),s("button",{type:"button",class:"btn btn-success btn-sm py-0 me-2",onClick:c}," ID 중복 확인 "),s("span",{class:g(o.value.value?"text-primary":"text-danger")},k(r.value),3)]),n(s("input",{type:"text",class:"form-control",placeholder:"사용자 ID",id:"username",onInput:v,"onUpdate:modelValue":a[0]||(a[0]=t=>e.username=t)},null,544),[[i,e.username]])]),s("div",null,[a[6]||(a[6]=s("label",{for:"avatar",class:"form-label"},[s("i",{class:"fa-solid fa-user-astronaut"}),l(" 아바타 이미지: ")],-1)),s("input",{type:"file",class:"form-control",ref_key:"avatar",ref:u,id:"avatar",accept:"image/png, image/jpeg"},null,512)]),s("div",E,[a[7]||(a[7]=s("label",{for:"email",class:"form-label"},[s("i",{class:"fa-solid fa-envelope"}),l(" email ")],-1)),n(s("input",{type:"email",class:"form-control",placeholder:"Email",id:"email","onUpdate:modelValue":a[1]||(a[1]=t=>e.email=t)},null,512),[[i,e.email]])]),s("div",S,[a[8]||(a[8]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),l(" 비밀번호: ")],-1)),n(s("input",{type:"password",class:"form-control",placeholder:"비밀번호",id:"password","onUpdate:modelValue":a[2]||(a[2]=t=>e.password=t)},null,512),[[i,e.password]])]),a[11]||(a[11]=l(" 회원관리–회원가입 ")),s("div",h,[a[9]||(a[9]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),l(" 비밀번호 확인: ")],-1)),n(s("input",{type:"password",class:"form-control",placeholder:"비밀번호 확인",id:"password2","onUpdate:modelValue":a[3]||(a[3]=t=>e.password2=t)},null,512),[[i,e.password2]])]),s("button",{type:"submit",class:"btn btn-primary mt-4",disabled:o.value},a[10]||(a[10]=[s("i",{class:"fa-solid fa-user-plus"},null,-1),l(" 확인 ")]),8,j)],32)]))}};export{z as default};
