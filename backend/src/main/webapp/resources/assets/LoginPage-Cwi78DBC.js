import{d as h,r as y,c as n,a as k,b as p,e as s,f as r,g as w,w as f,v,t as S,h as x,u as _,o as g}from"./index-6s6wKmBi.js";const b={token:"",user:{username:"",email:"",roles:[]}},N=h("auth",()=>{const t=y({...b}),u=n(()=>!!t.value.user.username),i=n(()=>t.value.user.username),a=n(()=>t.value.user.email),o=async e=>{t.value.token="test token",t.value.user={username:e.username,email:e.username+"@test.com"},localStorage.setItem("auth",JSON.stringify(t.value))},c=()=>{localStorage.clear(),t.value={...b}},m=()=>t.value.token;return(()=>{const e=localStorage.getItem("auth");e!=null&&(t.value=JSON.parse(e),console.log(t.value))})(),{state:t,username:i,email:a,isLogin:u,login:o,logout:c,getToken:m}}),V={class:"mt-5mx-auto",style:{width:"500px"}},D={class:"mb-3mt-3"},I={class:"mb-3"},B={key:0,class:"text-danger"},T=["disabled"],L={__name:"LoginPage",setup(t){const u=_(),i=N(),a=k({username:"",password:""}),o=y(""),c=n(()=>!(a.username&&a.password)),m=async()=>{console.log(a);try{await i.login(a),u.push("/")}catch(l){console.log("에러====",l),o.value=l.response.data}};return(l,e)=>(g(),p("div",V,[e[5]||(e[5]=s("h1",{class:"my-5"},[s("i",{class:"fa-solidfa-right-to-bracket"}),r(" 로그인 ")],-1)),s("form",{onSubmit:x(m,["prevent"])},[s("div",D,[e[2]||(e[2]=s("label",{for:"username",class:"form-label"},[s("i",{class:"fa-solidfa-user"}),r(" 사용자ID: ")],-1)),f(s("input",{type:"text",class:"form-control",placeholder:"사용자ID","onUpdate:modelValue":e[0]||(e[0]=d=>a.username=d)},null,512),[[v,a.username]])]),s("div",I,[e[3]||(e[3]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solidfa-lock"}),r(" 비밀번호: ")],-1)),f(s("input",{type:"password",class:"form-control",placeholder:"비밀번호","onUpdate:modelValue":e[1]||(e[1]=d=>a.password=d)},null,512),[[v,a.password]])]),o.value?(g(),p("div",B,S(o.value),1)):w("",!0),s("button",{type:"submit",class:"btn btn-primarymt-4",disabled:c.value},e[4]||(e[4]=[s("i",{class:"fa-solid fa-right-to-bracket"},null,-1),r(" 로그인 ")]),8,T)],32)]))}};export{L as default};
